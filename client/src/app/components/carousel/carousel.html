<div class="carousel-container">
  @if (images && images.length > 0) {
    <div class="carousel-main">
      <div class="carousel-viewport">
        <div class="carousel-track" [style.transform]="'translateX(-' + currentIndex() * 100 + '%)'">
          @for (image of images; track $index) {
            <div class="carousel-slide">
              <img [src]="image" alt="Project Screenshot">
            </div>
          }
        </div>
      </div>

      @if (images.length > 1) {
        <button class="nav-btn prev" (click)="prev()" aria-label="Previous image">
          <app-icon name="chevron-left" [size]="24"></app-icon>
        </button>
        <button class="nav-btn next" (click)="next()" aria-label="Next image">
          <app-icon name="chevron-right" [size]="24"></app-icon>
        </button>
      }
    </div>

    @if (images.length > 1) {
      <div class="carousel-indicators">
        @for (image of images; track $index; let i = $index) {
          <button 
            class="indicator" 
            [class.active]="currentIndex() === i"
            (click)="setIndex(i)"
            [aria-label]="'Go to slide ' + (i + 1)">
          </button>
        }
      </div>
    }
  }
</div>
