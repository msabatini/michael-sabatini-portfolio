<article class="project-detail">
  @if (project) {
    <div class="project-hero">
      <div class="hero-overlay">
        <div class="container">
          <a routerLink="/projects" class="back-link">
            <app-icon name="chevron-left" [size]="16"></app-icon> Back to Projects
          </a>
          <div class="hero-content" [class.has-mockup]="project.mockupUrl">
            <div class="title-container">
              @if (project.tags) {
                <div class="project-tags">
                  @for (tag of project.tags; track tag) {
                    <span class="tag">{{ tag }}</span>
                  }
                </div>
              }
              <h1 class="project-title">{{ project.title }}</h1>
              <p class="project-subtitle">{{ project.description }}</p>
            </div>
            <div class="image-container">
              @if (project.mockupUrl) {
                <div class="project-mockup">
                  <img [src]="project.mockupUrl" alt="Project Mockup">
                </div>
              }
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container project-body">
      <div class="case-study-grid">
        <div class="main-content">
          @if (project.gallery && project.gallery.length > 0) {
            <app-carousel [images]="project.gallery"></app-carousel>
          }

          <section class="case-study-section">
            <h2>Overview</h2>
            <p>{{ project.content }}</p>
          </section>

          @if (project.challenge) {
            <section class="case-study-section">
              <div class="section-icon"><app-icon name="chevron-down" [size]="24"></app-icon></div>
              <h2>The Challenge</h2>
              <p>{{ project.challenge }}</p>
            </section>
          }

          @if (project.solution) {
            <section class="case-study-section">
              <div class="section-icon"><app-icon name="sun" [size]="24"></app-icon></div>
              <h2>The Solution</h2>
              <p>{{ project.solution }}</p>
            </section>
          }

          @if (project.result) {
            <section class="case-study-section">
              <div class="section-icon"><app-icon name="chevron-up" [size]="24"></app-icon></div>
              <h2>The Result</h2>
              <p>{{ project.result }}</p>
            </section>
          }
        </div>

        <aside class="project-sidebar">
          <div class="sidebar-card">
            <h3>Technologies</h3>
            @if (project.tags) {
              <div class="tech-list">
                @for (tag of project.tags; track tag) {
                  <span class="tech-item">
                    <app-icon name="chevron-right" [size]="14" [strokeWidth]="3" color="#10b981"></app-icon> {{ tag }}
                  </span>
                }
              </div>
            }
          </div>

          <div class="sidebar-card">
            <h3>Project Details</h3>
            <ul class="meta-list">
              <li>
                <strong>Date</strong>
                <span>{{ project.createdAt | date:'MMMM yyyy' }}</span>
              </li>
              <li>
                <strong>Category</strong>
                <span>Web Development</span>
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
  } @else {
    <div class="loading-state">
      <div class="spinner"></div>
      <p>Loading project details...</p>
    </div>
  }
</article>
